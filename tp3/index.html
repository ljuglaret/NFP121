<html>
<head>
    <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
    <title>NFP121 - TP1</title>
    <style type="text/css">
        body {
            background: #E5DED6;
            background-color: #fff;
            color: #333333;
            font-size: 14px;
            font-family: Verdana, Arial;
        }

        table {
            font-size: 20px;
            border-color: #808080;
            border-style: solid;
            border-width: 1px;
        }

        h2 {
            color: #C1002A;
            font-family: Verdana, Arial;
            font-size: 30px;
            font-weight: bold;
        }

        h3 {
            color: #C1002A;
            font-family: Verdana, Arial;
            font-size: 20px;
            font-weight: bold;
        }
        
        hr {
            margin: 15px 0 15px 0;
        }
		
		applet {
			margin: 10px 0px 25px 250px;
			border-width: 1px;
			border-style: solid;
			border-color: #777777;
		}
		
    </style>

</head>
<body>
    <h2 style="text-align: center">NFP 121 - TP3</h2>
    <h2 style="text-align: center">Les piles</h2>
    <br />
    <hr>
    <br />
    <table>
        <tr>
            <td>Nom
            </td>
            <td>Juglaret
            </td>
        </tr>
        <tr>
            <td>Prénom
            </td>
            <td>Laure
            </td>
        </tr>
        <tr>
            <td>Matricule
            </td>
            <td>0G5DRL8UNZ3
            </td>
        </tr>
    </table>
		
	<br />
    <hr />
    <h3>Question 1.1</h3>
    <h4>Classe Pile</h4>
    <p>Cette classe contient deux constructeurs Pile() et Pile(taille).</p>
    <p>
        Le premier initialise une pile vide d'une capacité égale à la capacité
        par défaut.
    </p>
    <p>
        Le second initialise une pile de capacité égale à la capacité par défaut si taille fournie en paramètre  est strictement positive,
        sinon  initialise une pile vide d'une capacité égale à la capacité par défaut.
    </p>
   
    <p><a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question1/Pile.java" >Source</a></p>
    <h4>Classe IHM</h4>
    
     <p>
        public IHMPile(){..}
    <br>Initialise une IHM avec : 
     <li>Deux boutons : boutonEmpiler boutonDepiler</li>
     <li>Un JLabel :  contenu représentant la pile, initalisé ) []</li>
     <li>Un JTextField : donnee pour saisir un texte à empiler</li>
     <li>Un JTextField : sommet dans lequel se trouve le sommet de la pile </li>
    </p>  
 
    <a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question1/IHMPile.java" >Source</a>

    <br />
    <hr />
    <h3>Question 1.2</h3>
    <pre>
        <code>
            public static void main(String[] args) throws Exception {
                Pile p1 = new Pile(6);
                Pile p2 = new Pile(10);
                //p1 est ici une pile de polygones réguliers PolygoneRegulier.java
        
                p1.empiler(new PolygoneRegulier(5, 100));
                p1.empiler("polygone");
                p1.empiler(new Integer(100));
                System.out.println(" la pile p1 = " + p1); // Quel est le résultat ? (1)
        
                p2.empiler(new Integer(1000));
                p1.empiler(p2);
                System.out.println(" la pile p1 = " + p1); // Quel est le résultat ? (2)
        
                try {
                    p1.empiler(new PolygoneRegulier(4,100));
                   
                   String s = (String) p1.depiler(); // vérifiez qu'une exception se
                                                        // produit (3)
                p1.depiler();
                } catch (Exception e) {
                    e.printStackTrace();
                } 
            } 
        </code>

    </pre>
        <p>
            (1) :  la pile p1 = [100, polygone, <5,100>]
        </p>
        <p>
            (2) :  la pile p1 = [[1000], 100, polygone, <5,100>]  
        </p>
      
        <p>  
            (3) : Une exception se produit. 
            <br>En effet l'instruction p1.depiler() retourne un Polygone Regulier(le type de l'objet se trouvant au sommet), 
            lequel ne peut pas être casté en String, ce qui déclenchera une erreur au runtime.
        </p>
     

    

    <br />
    <hr />
    <h3>Question 2.1 : Modifiez la classe Pile pour qu'elle implémente maintenant l'interface PileI</h3>
    <h4>Classe Pile</h4>
    <a href = https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question2/PileI.java" >Source</a>


    <br />
    <hr />
    <h3>Question 2.2 : Implémenter une interface</h3>
    <h4>
        Pile : Pile de la question 1
    </h4>
        <a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question2/Pile.java" >Source</a>
   
    <h4>
        Pile2 : java.util.Stack<E>
    </h4>
    La documentation java fournit les méthodes suivantes : 
    <li>    E push(E item) : ajoute item au sommet de la pile</li>
    <li>    E pop() : retourne le sommet de la pile et le retire de la pile</li>
    <li>    E peek() : retourne le sommet de la pile </li>
    <li>
        boolean empty() : teste si la pile est vide </li>
    <a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question2/Pile2.java" >Source</a>
 
    <h4>
        Pile3 : java.util.Vector<E>
    </h4>
    La documentation java fournit les méthodes suivantes : 
    <li>    int capacity() : retourne la capacité du vecteur</li>
    <li>    int size() : retourne le nombre de composants du vecteur</li>
    <li>    boolean isEmpty() : teste si le vecteur n'a pas de composants</li>

        <a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question2/Pile3.java" >Source</a>
  
    <h4>
        Pile4 : liste chaînée créée en interne
    </h4>
        <a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question2/Pile4.java" >Source</a>
   

    <br />
    <hr />
    <h3>Question 2.3</h3>
    Votre r�ponse...

    <br />
    <hr />
    <h3>Question 2.4 : Tests Unitaires "PilesAuMemeComportement"</h3>
    <a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question2/PilesAuMemeComportement.java" >Source</a>

    <br />
    <hr />
    <h3>Question 2.5</h3>
    <pre>
        <code>
            public boolean equals(Object o) {
                if (o instanceof PileI) {
                  PileI p = (PileI) o;
                  return this.capacite() == p.capacite()
                      && this.hashCode() == p.hashCode();
                } else
                  return false;
                }
        </code>
    </pre>
    
        Cette réponse ne permet pas de tester le type de l'objet et renvoie donc vrai au test ("1","2","3") == (1,2,3)
        
        Deux piles sont égales si elles ont : même taille, même capacité, mêmes éléments (valeur et type).
     
        Cette autre réponse, élégante, n'est pas correcte
    
        <pre>
            <code>
        public boolean equals(Object o) {
            return this.toString().equals(o.toString());
        }
        </pre>
    </code>
        
        L'égalité est ici testée sur ce qui s'affiche à l'écran. Il manque les vérifications sur :
        <li>
            la capacité
        </li>
        <li>
            la taille
        </li>
        <li>
            le type
        </li>

    <br />
    <hr />
    <h3>Question 3.1 : Généricité : un premier usage</h3>
    Votre r�ponse...

    <br />
    <hr />
    <h3>Question 3.2 : La classe UneUtilisation</h3>
    <pre>
        <code>
            public static void main(String[] args) throws Exception {
                Pile p1 = new Pile(6);
                Pile p2 = new Pile(10);
                // p1 est ici une pile de polygones réguliers PolygoneRegulier.java,
                // entre autres
                p1.empiler(new PolygoneRegulier(4, 100));
                p1.empiler(new PolygoneRegulier(5, 100));
                p1.empiler("polygone");
                p1.empiler(new Integer(100));
                System.out.println(" la pile p1 = " + p1);
            
                p2.empiler(new Integer(1000));
                p1.empiler(p2);
                System.out.println(" la p1 = " + p1);
            
                try {
                  p1.empiler(new PolygoneRegulier(4, 100));
                  String s = (String) p1.depiler(); // vérifiez qu'une exception est levée à l'exécution (1)
                } catch (Exception e) {
                  e.printStackTrace();
                }
              }
        </code>
    </pre>
    <p>Dans ce contexte, p1 est une pile de polygones réguliers.
        <br> Donc l'instruction p1.depiler() retourne un Polygone Regulier, lequel ne peut pas être casté en String, ce qui déclenchera une erreur au runtime.
</p>

    <p><a href = "https://github.com/ljuglaret/NFP121/blob/gh-pages/tp3/question3/UneUtilisation.java">Source</a></p>

    <br />
    <hr />
   
        <h3>Conclusion, biliographie et remarques :</h3>
        <a href="https://github.com/ljuglaret/NFP121/tree/gh-pages/tp3" >Sources</a>
</body>
</html>
